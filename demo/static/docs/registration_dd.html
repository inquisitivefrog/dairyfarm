<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="//localhost:8000/static/css/dd.css"/>
<title>Registration Design Document</title>
</head>

<body>
<h1 style="text-align: center">Nature Dairy Farm Inventory Management</h1><p></p>
<h1 style="text-align: center">Registration Design Document</h1><p></p>
<div id="contents" class="contents">
<h2>Contents</h2><p></p><div><ul style="text-align: left">
<h4><li><span>1</span>
<span><a href=http://localhost:8000/static/html/registration_dd.html#intro>Introduction</a></span></li>
<li><span>2</span>
<span><a href=http://localhost:8000/static/html/registration_dd.html#overview>System Overview</a></span></li>
<li><span>3</span>
<span><a href=http://localhost:8000/static/html/registration_dd.html#arch>System Architecture</a></span></li>
<li><span>4</span>
<span><a href=http://localhost:8000/static/html/registration_dd.html#component>Component Design</a></span></li>
<li><span>5</span>
<span><a href=http://localhost:8000/static/html/registration_dd.html#data>Data Design</a></span></li>
<li><span>6</span>
<span><a href=http://localhost:8000/static/html/registration_dd.html#api>API Design</a></span></li>
<li><span>7</span>
<span><a href=http://localhost:8000/static/html/registration_dd.html#ui>UI Design</a></span></li>
<li><span>8</span>
<span><a href=http://localhost:8000/static/html/registration_dd.html#reqs>Requirements Matrix</a></span></li>
<li><span>9</span>
<span><a href=http://localhost:8000/static/html/registration_dd.html#appendix>Appendix</a></span></li>
</ul></h4></div>

<div id="intro"><h2>Introduction</h2><p></p>
<h3>Purpose</h3><p></p><p>
Nature v1.0 is an inventory management system for the dairy farming market segment.  The Registration feature will consist of a user credential protected UI that interacts with a service that manages account and user registration.
</p><p></p>
<h3>Scope</h3><p></p><p>
Two tools will be developed.  A CLI tool for rapid creation of new objects for load testing and a UI tool for CRUD management of all objects.
</p><p>
<h4>Back-end Perspective</h4>
</p><p>
Each client will be represented by a Account object.  All users and assets will be mapped to this Account object to ensure multi-tenancy security.  Account registration will require name, address, contact, telephone, and email_address.  Each Account will be mapped to 1:N User objects. User registration will require first_name, last_name, employer, position, email_address as username and a password for security.
</p><p>
Each user of the CLI tool or UI must have an User object that provides authorization via login credentials: email address and password, and notification alerting via email address.  Each User is assigned read-only or read-write access to 1:N asset objects.
</p><p>
<h4>Front-end Perspective</h4>
</p><p>
A new Account object and mapped User object are created by a Sales representative after confirming client interest.
All future client access requires login using email address/password as basic authentication.
Login loads a landing page listing an annual Summary of farm activity.  Menus exist to view specific assets.  Many asset attributes are visible by date range and some can be modified by editor.
</p><p></p>
<h3>References</h3><p></p><p>
<ul><li>
<a href=http://localhost:8000/static/html/mrd.html>Nature Dairy Farm MRD</a>
</li></ul></p><p></div>

<div id="overview"><h2>System Overview</h2><p></p><p>
The registration service is a web service that provides</p><ul>
<li>CRUD operations on an Account object</li><ul>
<li>create new Account objects</li>
<li>modify existing Account objects</li>
<li>disable existing Account objects</li></ul>
<li>CRUD operations on an User object</li><ul>
<li>create new User objects</li>
<li>modify existing User objects</li>
<li>change password for User objects</li>
<li>disable existing User objects</li></ul>
</ul>
</p><p></p></div>

<div id="arch"><h2>System Architecture</h2><p></p>
<h3>Architectural Design</h3><p></p>
<img width="750" src="https://www.lucidchart.com/publicSegments/view/033d7d2c-b642-48be-adc6-49e8529dd7c3/image.png"/><p></p>
<h3>Design Considerations</h3><p></p><p><ul>
<li>PostgreSQL will be the only source of truth providing near-instant data replication with a master-slave configuration</li>
<li>All PostgreSQL table rows will be accessible by key id except Cow table which will reference key rfid, of type UUID</li>
<li>Summary reporting will assume low volume same day row creation so table rows will be accessible by keys year, month and id with only the highest id row returned</li>
<li>Because disk space is cheap even when rented and historic data must be preserved for the Summary reporting web service, each table will include a delete column with a boolean value rather than actually deleting a table row</li>
<li></li></ul></div>

<div id="component"><h2>Component Design</h2><p></p>
<img width="750" src="https://www.lucidchart.com/publicSegments/view/1f51b4b5-f0d7-4e4f-8793-bfb6e4c5de94/image.png"/><p></p></div>

<div id="data"><h2>Data Design</h2><p></p>
<h3>RDBMS Data Description</h3><p></p>
<img width="750" src="https://www.lucidchart.com/publicSegments/view/3249dde1-0cbf-41ef-a0a2-db5ebc9275fa/image.png"/><p></p>
<h3>Data Integration</h3><p></p><p>
</p><p></p></div>

<div id="api"><h2>API Design</h2><p></p>
</p><p></p>
<table>
  <tr>
    <th>Object</th>
    <th>URL Path</th>
    <th>HTTP Method</th>
    <th>PUT/POST data</th>
    <th>HTTP Response</th>
  </tr>
  <tr>
    <td>Index</td>
    <td>/assets/</td>
    <td><img width="100" src="https://www.lucidchart.com/publicSegments/view/89aff0d8-e622-4f51-b5d2-a21663bd9cb5/image.png"/></td>
    <td></td>
    <td><code>{"status_code": 200, "reason_phrase": "OK"}</code></td>
  </tr>
  <tr>
    <td>Cow</td>
    <td>/assets/api/cows/</td>
    <td><img width="100" src="https://www.lucidchart.com/publicSegments/view/89aff0d8-e622-4f51-b5d2-a21663bd9cb5/image.png"/></td>
    <td></td>
    <td><code>{"status_code": 200, "reason_phrase": "OK", "content": "[list]"}</code></td>
  </tr>
  <tr>
    <td>Cow</td>
    <td>/assets/api/cows/1/</td>
    <td><img width="100" src="https://www.lucidchart.com/publicSegments/view/89aff0d8-e622-4f51-b5d2-a21663bd9cb5/image.png"/></td>
    <td></td>
    <td><code>{"status_code": 201, "reason_phrase": 'Object Created'}</code></td>
  </tr>
  <tr>
    <td>Cow</td>
    <td>/assets/api/cows/1/</td>
    <td><img width="100" src="https://www.lucidchart.com/publicSegments/view/89aff0d8-e622-4f51-b5d2-a21663bd9cb5/image.png"/></td>
    <td></td>
    <td><code>{"status_code": 200, "reason_phrase": 'OK', "content": "[list]"}</code></td>
  </tr>
  <tr>
    <td>Cow</td>
    <td>/assets/api/cows/</td>
    <td><img width="100" src="https://www.lucidchart.com/publicSegments/view/53747531-9748-4751-9765-6e988c4bcd9b/image.png"/></td>
    <td></td>
    <td><code>{"status_code": 200, "reason_phrase": 'OK', "content": "[list]"}</code></td>
  </tr>
</table>
</div>

    <td><img width="100" src="https://www.lucidchart.com/publicSegments/view/8a296f5b-1980-48a9-b6f2-291a99286c03/image.png"/></td>
    <td><img width="100" src="https://www.lucidchart.com/publicSegments/view/04022471-ea74-41ab-9cfd-9cb8c440afdb/image.png"/></td>
</table>
</div>

<div id="ui"><h2>UI Design</h2><p></p>
</p><p></p></div>

<div id="reqs"><h2>Requirements Matrix</h2><p></p>
</p><p></p></div>

<div id="appendix"><h2>Appendix</h2><p></p>
</p><p></p></div>

</body>
</html>
