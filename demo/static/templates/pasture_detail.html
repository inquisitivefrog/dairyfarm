<div class="auth" ng-if="globals">
<table>
    <tr>
        <td><p style="color:blue">{{globals.currentUser.username}}</p></td>
        <td><p> logged in at </p></td>
        <td><p style="color:blue">{{globals.login}}</p></td>
    </tr>
</table>
</div>
<h2>Cultivate a Pasture</h2>
<form ng-if="pasture" action="{% url 'assets:pasture-detail' pasture.id %}" method="put">
    <table>
    <tr>
        <th>ID:</th>
        <td>{{pasture.id}}</td>
    </tr>
    <tr>
        <th>Client:</th>
        <td>{{pasture.client.name}}</td>
    </tr>
    <tr>
        <th>Name:</th>
        <td><input type="text" ng-init="inputName=pasture.name" ng-model="inputName" ng-trim="false" required/></td>
    </tr>
    <tr>
        <th>Fallow:</th>
        <td>
            <input type="radio" ng-init="inputFallow=pasture.fallow" ng-model="inputFallow" value="true"/> Yes<br>
            <input type="radio" ng-init="inputFallow=pasture.fallow" ng-model="inputFallow" value="false"/> No<br>
        </td>
    </tr>
    <tr>
        <th>Distance:</th>
        <td>
            <input type="number" ng-init="inputDistance=pasture.distance" min=1 max=15 ng-model="inputDistance" required/>
        </td>
    </tr>
    </table>
    <input type="button" ng-click="cultivate(inputName, inputFallow, inputDistance)" value="Cultivate"/>
</form>

<h2>Pasture</h2>
<table ng-if="pasture">
  <tr>
    <th>ID</th>
    <th>Client</th>
    <th>Name</th>
    <th>Fallow</th>
    <th>Distance</th>
  </tr>
  <tr>
    <td>{{pasture.id}}</td>
    <td>{{pasture.client.name}}</td>
    <td>{{pasture.name}}</td>
    <td>{{pasture.fallow}}</td>
    <td>{{pasture.distance}}</td>
  <tr>
</table>
<p/>
<img src="{{pasture.url}}" alt="Image failed to load" height="200" width="400">

