<table class="login" ng-if="globals">
    <tr>
        <td><p style="color:blue">{{globals.currentUser.username}}</p></td>
        <td><p> logged in at </p></td>
        <td><p style="color:blue">{{globals.login}}</p></td>
    </tr>
</table>

<h2>{{update_header}}</h2>
<form ng-if="hr" action="{% url 'assets:healthrecord-detail' hr.id %}" method="put">
    <table>
        <tr>
            <th>ID:</th>
            <td>{{hr.id}}</td>
        </tr>
        <tr>
            <th>Client:</th>
            <td>{{hr.client.name}}</td>
        </tr>
        <tr>
            <th>Recorder:</th>
            <td>{{hr.recorded_by}}</td>
        </tr>
        <tr>
            <th>Inspection Time:</th>
            <td>{{hr.inspection_time}}</td>
        <tr>
            <th>RFID:</th>
            <td>{{hr.cow.rfid}}</td>
        </tr>
        <tr>
            <th>Temperature:</th>
            <td>{{hr.temperature}}</td>
        </tr>
        <tr>
            <th>Respiratory Rate:</th>
            <td>{{hr.respiratory_rate}}</td>
        </tr>
        <tr>
            <th>Heart Rate:</th>
            <td>{{hr.heart_rate}}</td>
        </tr>
        <tr>
            <th>Blood Pressure:</th>
            <td>{{hr.blood_pressure}}</td>
        </tr>
        <tr>
            <th>Weight:</th>
            <td>{{hr.weight}}</td>
        </tr>
        <tr>
            <th>BCS:</th>
            <td>{{hr.body_condition_score}}</td>
        </tr>
        <tr>
            <th>Status:</th>
            <td>
                <select ng-init="selectedStatus=globals.statuses[0].name"
                        ng-model="selectedStatus"
                        ng-options="status.name for status in globals.statuses">
                </select>
            </td>
        </tr>
        <tr>
            <th>Illness:</th>
            <td>
                <select ng-model="selectedIllness"
                        ng-options="illness.diagnosis for illness in globals.illnesses">
                </select>
            </td>
        </tr>
        <tr>
            <th>Injury:</th>
            <td>
                <select ng-model="selectedInjury"
                        ng-options="injury.diagnosis for injury in globals.injuries">
                </select>
            </td>
        </tr>
        <tr>
            <th>Treatment:</th>
            <td>
                <select ng-model="selectedTreatment"
                        ng-options="treatment.name for treatment in globals.treatments">
                </select>
            </td>
        </tr>
        <tr>
            <th>Vaccine:</th>
            <td>
                <select ng-model="selectedVaccine"
                        ng-options="vaccine.name for vaccine in globals.vaccines">
                </select>
            </td>
        </tr>
    </table>
    <input type="button" ng-click="update(selectedStatus, selectedIllness, selectedInjury, selectedTreatment, selectedVaccine)" value="Update"/>
</form>


<h2>Health Record</h2>
<table ng-if="hr">
  <tr>
    <th>ID</th>
    <td>{{hr.id}}</td>
  </tr>
  <tr>
    <th>Client</th>
    <td>{{hr.client.name}}</td>
  </tr>
    <th>Recorder</th>
    <td>{{hr.recorded_by}}</td>
  </tr>
  <tr>
    <th>Inspected When</th>
    <td>{{hr.inspection_time}}</td>
  </tr>
  <tr>
    <th>RFID</th>
    <td><a href="#!{{hr.cow.link}}">{{hr.cow.rfid}}</a></td>
  </tr>
  <tr>
    <th>Breed</th>
    <td>{{hr.cow.breed.name}}</td>
  </tr>
  <tr>
    <th>Color</th>
    <td>{{hr.cow.color.name}}</td>
  </tr>
    <th>Age</th>
    <td>{{hr.cow.age.name}}</td>
  </tr>
  <tr>
    <th>Temperature</th>
    <td>{{hr.temperature}}</td>
  </tr>
  <tr>
    <th>Respiratory Rate</th>
    <td>{{hr.respiratory_rate}}</td>
  </tr>
  <tr>
    <th>Heart Rate</th>
    <td>{{hr.heart_rate}}</td>
  </tr>
  <tr>
    <th>Blood Pressure</th>
    <td>{{hr.blood_pressure}}</td>
  </tr>
  <tr>
    <th>Weight</th>
    <td>{{hr.weight}}</td>
  </tr>
  <tr>
    <th>BCS</th>
    <td>{{hr.body_condition_score}}</td>
  </tr>
  <tr>
    <th>Status</th>
    <td>{{hr.status.name}}</td>
  </tr>
  <tr>
    <th>Illness</th>
    <td>{{hr.illness.diagnosis}}</td>
  </tr>
  <tr>
    <th>Injury</th>
    <td>{{hr.injury.diagnosis}}</td>
  </tr>
  <tr>
    <th>Treatment</th>
    <td>{{hr.treatment.name}}</td>
  </tr>
  <tr>
    <th>Vaccine</th>
    <td>{{hr.vaccine.name}}</td>
  </tr>
</table>
